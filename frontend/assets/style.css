 body {
   font-family: sans-serif;
   background-color: #fff;
   color: #333;
   overflow-x: hidden;
 }

 .map-container-responsive {
   width: 360px;
   height: 320px;
   margin: 0 auto;
   position: relative;
   transition: transform 0.3s ease;
 }

 /* Small screens (< 380px) */
 @media (max-width: 380px) {
   .map-container-responsive {
     transform: scale(0.85);
     transform-origin: top center;
     margin-bottom: -40px;
   }
 }

 .hex {
   position: absolute;
   width: 60px;
   height: 69px;
   clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);
   display: flex;
   align-items: center;
   justify-content: center;
   cursor: pointer;
   transition: filter 0.2s, transform 0.2s;
   z-index: 1;
   -webkit-tap-highlight-color: transparent;
 }

 .hex::before {
   content: '';
   position: absolute;
   top: 1px;
   left: 1px;
   right: 1px;
   bottom: 1px;
   background: inherit;
   clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);
   z-index: -1;
 }

 .hex:hover,
 .hex:active {
   transform: scale(1.1);
   z-index: 10;
   filter: brightness(1.1);
 }

 /* Testo Livello */
 .level {
   font-weight: bold;
   font-size: 11px;
   color: #000;
   text-shadow: 0px 0px 2px rgba(255, 255, 255, 0.8);
   z-index: 5;
   pointer-events: none;
 }

 /* Colori Risorse */
 .wood {
   background: radial-gradient(circle, #6c9a34 30%, #4b7d26 100%);
 }

 .clay {
   background: radial-gradient(circle, #d68636 30%, #b36119 100%);
 }

 .iron {
   background: radial-gradient(circle, #a6a6a6 30%, #808080 100%);
 }

 .crop {
   background: radial-gradient(circle, #f2d349 30%, #e6be25 100%);
 }

 /* --- VILLAGGIO CENTRALE --- */
 .village {
   position: absolute;
   width: 66px;
   height: 66px;
   border-radius: 50%;
   clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);
   background: #6c1a34;
   border: 3px solid #fff;
   box-shadow: 0 0 10px rgba(0, 0, 0, 0.4);
   z-index: 20;
   top: 43.2%;
   left: 41.6%;
   transform: translate(-50%, -50%);
   overflow: hidden;
 }

 .village img {
   width: 100%;
   height: 100%;
   object-fit: cover;
   z-index: 30;
 }

 .nav-icon {
   width: 45px;
   height: 45px;
   min-width: 45px;
   border-radius: 50%;
   border: 3px solid #ccc;
   background: #fff;
   display: flex;
   align-items: center;
   justify-content: center;
   font-size: 20px;
   cursor: pointer;
   box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
   transition: transform 0.2s;
 }

 .nav-icon:hover {
   transform: translateY(-2px);
 }

 .nav-active {
   border-color: #80ba34;
 }

 .res-item {
   display: flex;
   align-items: center;
   margin: 0 8px 8px 0;
   font-size: 11px;
   font-weight: bold;
   white-space: nowrap;
 }

 .res-icon {
   width: 15px;
   height: 15px;
   margin-right: 4px;
   border-radius: 50%;
   flex-shrink: 0;
 }

 /* --- MAP 15x15 CONTAINER --- */
 .map-container-main {
   display: flex;
   flex-direction: column;
   align-items: center;
   width: 100%;
   max-width: 100%;
   overflow: visible;
 }

 .large-map-wrapper {
   position: relative;
   width: 560px;
   /* Larghezza fissa base */
   height: 560px;
   margin: 10px auto 20px;
   display: flex;
   align-items: center;
   justify-content: center;
   transition: transform 0.3s ease;
 }

 @media (max-width: 600px) {
   .large-map-wrapper {
     position: relative;
     left: 50%;
     margin-left: -280px;
     transform: scale(0.55);
     transform-origin: top center;

     margin-top: 0px;
     margin-bottom: -240px;
   }
 }

 /* GRID */
 .map-grid-container {
   position: relative;
   width: 488px;
   height: 488px;
   background-color: #8ebf42;
   border: 4px solid #9acd32;
   box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
   z-index: 10;
 }

 .map-grid {
   display: grid;
   grid-template-columns: repeat(15, 32px);
   grid-template-rows: repeat(15, 32px);
   gap: 1px;
   background-color: #a9d16f;
   border: 1px solid #a9d16f;
 }

 /* CELLE */
 .tile {
   width: 32px;
   height: 32px;
   background-color: #f1f8e9;
   position: relative;
   cursor: pointer;
   display: flex;
   align-items: center;
   justify-content: center;
   font-size: 16px;
   transition: background-color 0.1s;
 }

 .tile:hover {
   background-color: #fff;
   z-index: 50;
   outline: 2px solid #ff9800;
 }

 .is-village {
   box-shadow: inset 0 0 0 2px #d32f2f;
   background-color: #ffebee;
 }

 .is-own-village {
   box-shadow: inset 0 0 0 2px #fff;
   background-color: #e8f5e9;
   border: 2px solid #2e7d32;
 }

 .oasis-wood {
   background-color: #c5e1a5;
 }

 .oasis-clay {
   background-color: #ffe0b2;
 }

 .oasis-iron {
   background-color: #e0e0e0;
 }

 .oasis-crop {
   background-color: #fff9c4;
 }

 .tile-content {
   pointer-events: none;
   filter: drop-shadow(1px 1px 0px rgba(0, 0, 0, 0.2));
   line-height: 1;
 }

 /* --- COORDINATE (Font armonizzati) --- */
 .y-axis {
   position: absolute;
   left: -35px;
   top: 0;
   bottom: 0;
   display: flex;
   flex-direction: column;
   justify-content: space-between;
   padding: 8px 0;
   height: 488px;
 }

 .y-label {
   height: 32px;
   display: flex;
   align-items: center;
   justify-content: flex-end;
   width: 30px;
   font-size: 11px;
   font-weight: bold;
   color: #555;
 }

 .x-axis {
   position: absolute;
   bottom: -25px;
   left: 0;
   right: 0;
   display: flex;
   flex-direction: row;
   justify-content: space-between;
   width: 488px;
   padding: 0 1px;
 }

 .x-label {
   width: 32px;
   display: flex;
   justify-content: center;
   font-size: 11px;
   font-weight: bold;
   color: #555;
 }

 .highlight-axis {
   color: #2e7d32;
   font-size: 12px;
   font-weight: 900;
 }

 /* FRECCE NAVIGAZIONE */
 .nav-arrow {
   position: absolute;
   width: 0;
   height: 0;
   border-style: solid;
   cursor: pointer;
   z-index: 5;
 }

 .nav-arrow:hover {
   transform: scale(1.1);
 }

 .arrow-n {
   top: -25px;
   left: 50%;
   transform: translateX(-50%);
   border-width: 0 20px 25px 20px;
   border-color: transparent transparent #8ebf42 transparent;
 }

 .arrow-s {
   bottom: -50px;
   left: 50%;
   transform: translateX(-50%);
   border-width: 25px 20px 0 20px;
   border-color: #8ebf42 transparent transparent transparent;
 }

 .arrow-w {
   left: -60px;
   top: 50%;
   transform: translateY(-50%);
   border-width: 20px 25px 20px 0;
   border-color: transparent #8ebf42 transparent transparent;
 }

 .arrow-e {
   right: -25px;
   top: 50%;
   transform: translateY(-50%);
   border-width: 20px 0 20px 25px;
   border-color: transparent transparent transparent #8ebf42;
 }

 /* INPUT BOX */
 .coords-input-container {
   background: #fff;
   border: 1px solid #ddd;
   padding: 8px 16px;
   border-radius: 4px;
   display: flex;
   align-items: center;
   gap: 8px;
   box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
   margin-top: 15px;
 }

 /* Tooltip */
 #tile-info {
   position: absolute;
   background: rgba(0, 0, 0, 0.9);
   color: #fff;
   padding: 6px 10px;
   border-radius: 4px;
   font-size: 11px;
   pointer-events: none;
   display: none;
   z-index: 100;
   white-space: nowrap;
   box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
 }

 /* --- VILLAGE MAP WRAPPER --- */
 .village-container-responsive {
   width: 400px;
   height: 350px;
   margin: 0 auto;
   position: relative;
   background-color: #8ebf42;
   background-image: radial-gradient(circle, #9acd56 10%, #8ebf42 90%);
   border-radius: 20px;
   box-shadow: inset 0 0 30px rgba(0, 0, 0, 0.1);
   border: 4px solid #e0e0e0;
   transition: transform 0.3s ease;
   overflow: hidden;
 }

 @media (max-width: 420px) {
   .village-container-responsive {
     transform: scale(0.85);
     transform-origin: top center;
     margin-bottom: -50px;
   }
 }

 /* --- ELEMENTI DECORATIVI --- */
 .wall-ring {
   position: absolute;
   top: 12px;
   left: 12px;
   right: 12px;
   bottom: 12px;
   border: 5px dashed rgba(255, 255, 255, 0.5);
   border-radius: 50%;
   pointer-events: none;
   opacity: 0.8;
   z-index: 1;
 }

 .river {
   position: absolute;
   top: -50px;
   left: 44%;
   width: 55px;
   height: 500px;
   background: #a3d5ff;
   transform: rotate(12deg);
   opacity: 0.5;
   filter: blur(1px);
   pointer-events: none;
   z-index: 0;
 }

 /* --- SLOT EDIFICI --- */
 .building-slot {
   position: absolute;
   width: 36px;
   height: 36px;
   background-color: rgba(139, 69, 19, 0.15);
   border: 1px dashed rgba(139, 69, 19, 0.5);
   border-radius: 50%;
   display: flex;
   align-items: center;
   justify-content: center;
   cursor: pointer;
   transition: all 0.2s ease;
   z-index: 10;
   font-size: 9px;
   font-weight: bold;
   color: rgba(0, 0, 0, 0.5);
   /* Anchor point centrale per precisione */
   transform: translate(-50%, -50%);
 }

 .building-slot:hover {
   background-color: rgba(255, 255, 255, 0.8);
   border-color: #fff;
   /*transform: translate(-50%, -50%) scale(1.2);*/
   box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
   color: #333;
   z-index: 10;
 }

 .building-slot.main-building {
   width: 60px;
   height: 60px;
   background-color: rgba(255, 255, 255, 0.5);
   border: 2px solid rgba(255, 255, 255, 0.9);
   z-index: 15;
   font-size: 10px;
 }

 /* Punto di Raduno: spostato per non collidere con slot 4 e 3 */
 .rally-point {
   width: 70px;
   height: 85px;
   border-radius: 10px 50px 10px 0px;
   background-color: rgba(200, 200, 200, 0.4);
   transform: translate(-50%, -50%) rotate(60deg);
 }

 /* login */

 .login-box {
   width: 100%;
   max-width: 400px;
   background: white;
   border: 1px solid #ccc;
   border-radius: 6px;
   box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
   padding: 2rem;
 }

 /*.input-field {
   width: 100%;
   padding: 10px;
   border: 1px solid #ccc;
   border-radius: 4px;
   margin-bottom: 15px;
   font-size: 14px;
 }

 .input-field:focus {
   border-color: #8ebf42;
   outline: none;
   box-shadow: 0 0 0 2px rgba(142, 191, 66, 0.2);
 }

 .btn-green {
   width: 100%;
   background-color: #8ebf42;
   border: 1px solid #7da83a;
   color: white;
   font-weight: bold;
   padding: 10px;
   border-radius: 4px;
   cursor: pointer;
   transition: background-color 0.2s;
 }*/

 /*.btn-green:hover {
   background-color: #9acd56;
 }*/

 /* register */
 .register-box {
   width: 100%;
   max-width: 500px;
   background: white;
   border: 1px solid #ccc;
   border-radius: 6px;
   box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
   padding: 2rem;
 }

 .input-field,
 .select-field {
   width: 100%;
   padding: 10px;
   border: 1px solid #ccc;
   border-radius: 4px;
   margin-bottom: 15px;
   font-size: 14px;
   background-color: #fff;
 }

 .input-field:focus,
 .select-field:focus {
   border-color: #8ebf42;
   outline: none;
   box-shadow: 0 0 0 2px rgba(142, 191, 66, 0.2);
 }

 .btn-green {
   width: 100%;
   background-color: #8ebf42;
   border: 1px solid #7da83a;
   color: white;
   font-weight: bold;
   padding: 12px;
   border-radius: 4px;
   cursor: pointer;
   transition: background-color 0.2s;
   font-size: 16px;
 }

 .btn-green:hover {
   background-color: #9acd56;
 }

 .tribe-info {
   font-size: 11px;
   color: #666;
   margin-top: -10px;
   margin-bottom: 15px;
   padding-left: 2px;
   font-style: italic;
 }

 /* landing */
 .content-box {
   background: white;
   border: 1px solid #ccc;
   border-radius: 4px;
   box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
 }
